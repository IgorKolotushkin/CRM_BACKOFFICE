<h1 align="center">CRM-система</h1>

Бэкенд реализован на фреймворке Django. База данных PostgreSQL.

## Основой функционал приложения:

1. авторизация пользователя;
2. создание, редактирование и просмотр предоставляемых услуг;
3. создание, редактирование и просмотр рекламной кампании;
4. создание, редактирование и просмотр потенциальных клиентов;
5. создание, редактирование и просмотр контракта для клиента;
6. перевод потенциального клиента в активного;
7. подсчёт и отображение статистики по рекламным кампаниям: сколько привлечено потенциальных клиентов, сколько из них перешло в активных.


### Авторизация пользователя
Для регистрации используется имя и пароль.

Добавление пользователей и назначение им ролей и разрешений реализует администратор
с помощью стандартного административного интерфейса Django.

Роли пользователей настраиваются автоматически, при первом запуске приложения:
1. Администратор может создавать, просматривать и редактировать пользователей, назначать им роли и разрешения. Такой функционал реализует административная панель Django.
2. Оператор может создавать, просматривать и редактировать потенциальных клиентов.
3. Маркетолог может создавать, просматривать и редактировать предоставляемые услуги и рекламные кампании.
4. Менеджер может создавать, просматривать и редактировать контракты, смотреть потенциальных клиентов и переводить их в активных.
5. Все роли могут смотреть статистику рекламных кампаний.

### Создание услуги
Приложение принимает информацию об услуге:
1. название;
2. описание;
3. стоимость.

### Создание рекламной кампании
Приложение принимает:
1. название рекламной кампании;
2. рекламируемую услугу;
3. канал продвижения;
4. бюджет на рекламу.

### Создание потенциального клиента
Приложение принимает данные о клиенте:
1. Ф. И. О.;
2. телефон;
3. email;
4. рекламную кампанию, из которой он узнал об услуге.

### Создание контракта
Приложение принимает сведения о контракте:
1. название; 
2. предоставляемую услугу; 
3. файл с документом; 
4. дату заключения; 
5. период действия; сумму.

### Создание активного клиента
Активного клиента можно создать только из списка потенциальных.
Приложение принимает:
1. данные о потенциальном клиенте; 
2. данные о контракте.

### Подсчёт статистики об успешности рекламных кампаний
Статистику считают по нескольким критериям:
1. число клиентов, привлечённых рекламной кампанией; 
2. число клиентов, перешедших из потенциальных в активных; 
3. соотношение дохода от контрактов и расходов на рекламу.


## Перед первым запуском
Необходимо переименовать .env.template в .env и внести необходимые данные

## Первый запуск сервиса
```
docker compose up --build -d
```

## Повторный запуск
```
docker compose up -d
```

## После первого запуска необходимо добавить администратора
```
docker compose run django python manage.py creatsuperuser
```
После этого сервис будет доступен по адресу http://127.0.0.1:8000/, если запускать локально,
или по адресу http://ip_server:8000/, если запускать на сервере

## Остановка сервиса
```
docker compose down
```
